{% extends 'base.html' %}

{% block content %}

<!-- ===== VANTA BACKGROUND WRAPPER ===== -->
<div id="vanta-bg" class="orders-wrapper">

    <h1 class="orders-title">My Orders</h1>

    {% if orders %}
    <div class="orders-grid">
        {% for order in orders %}

        <div class="order-card">
            <div class="order-header">
                <span class="order-id">Order #{{ order.id }}</span>

                <span class="order-status 
                    {% if order.status == 'Placed' %}placed
                    {% elif order.status == 'Shipped' %}shipped
                    {% else %}delivered{% endif %}">
                    {{ order.status }}
                </span>
            </div>

            <div class="order-body">
                <p><strong>Total:</strong> â‚¹{{ order.total_amount }}</p>
                <p><strong>Date:</strong> {{ order.created_at|date:"M d, Y" }}</p>
            </div>
        </div>

        {% endfor %}
    </div>

    {% else %}
    <div class="no-orders">
        <p>You have no orders yet</p>
        <a href="{% url 'product_list' %}" class="start-btn">Start Shopping</a>
    </div>
    {% endif %}

</div>

<!-- ===== VANTA SCRIPTS ===== -->
<!-- ===== VANTA DOTS BACKGROUND ===== -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r134/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/vanta@latest/dist/vanta.dots.min.js"></script>

<script>
VANTA.DOTS({
  el: "#vanta-bg",
  mouseControls: true,
  touchControls: true,
  gyroControls: false,

  minHeight: 200.0,
  minWidth: 200.0,
  scale: 1.0,
  scaleMobile: 1.0,

  backgroundColor: 0x131212,
  color: 0x202124,
  color2: 0x1a0e1a,

  size: 5.8,
  spacing: 54.0,
  showLines: false
});
</script>

{% endblock %}
